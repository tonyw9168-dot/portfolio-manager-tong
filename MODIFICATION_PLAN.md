# 桐的家庭基金 - 修改计划

## 项目概述
- **项目名称**: 桐的家庭基金 (Portfolio Manager for Tong)
- **技术栈**: React + TypeScript + Vite + TailwindCSS + tRPC + Drizzle ORM
- **部署平台**: Render (https://portfolio-manager-tong.onrender.com)

## 当前功能分析

### 已有页面
1. **仪表板** - 显示总资产、配置比例、趋势
2. **资产分析** - 按类别/标的/时间展示资产数据
3. **性能分析** - 投资绩效报告（需改名为"收益分析"）
4. **配置规划** - 目标配置设置
5. **现金流量** - 资金流入流出记录
6. **家庭保险** - 保险配置管理

## 修改需求

### 需求1: 资产分析页面详细明细展示
**目标**: 点开类别后，能看到具体的资产的详细明细（金额、买卖时间等）
**当前状态**: 只显示类别汇总信息
**修改方案**:
- 在资产分析页面添加展开/折叠功能
- 点击类别卡片时展开该类别下的所有资产明细
- 显示字段: 资产名称、数量、买入价格、当前价格、买入时间、卖出时间、成本、当前价值、收益率等
- 使用表格或列表形式展示明细

### 需求2: 性能分析改名为收益分析
**目标**: 将菜单项和页面标题从"性能分析"改为"收益分析"
**当前状态**: 菜单显示"性能分析"，页面标题"投资绩效报告"
**修改方案**:
- 修改导航菜单中的文本
- 修改路由路径（可选保持向后兼容）
- 修改页面标题和描述

### 需求3: 数据增删改功能
**目标**: 除家庭保险配置界面外，其他界面可以在网站上直接进行数据的删减增
**当前状态**: 仅支持导入Excel，不支持直接编辑
**修改方案**:
- **仪表板**: 添加快速操作按钮（新增资产、编辑、删除）
- **资产分析**: 在明细表格中添加编辑/删除按钮
- **配置规划**: 支持直接编辑目标配置
- **现金流量**: 支持添加、编辑、删除现金流记录
- **家庭保险**: 保持不变（按需求）
- 使用模态框或行内编辑实现数据操作

## 技术实现细节

### 前端文件结构
```
client/src/
├── pages/          # 页面组件
│   ├── Dashboard.tsx
│   ├── AssetAnalysis.tsx
│   ├── PerformanceAnalysis.tsx
│   ├── ConfigPlanning.tsx
│   ├── CashFlow.tsx
│   └── FamilyInsurance.tsx
├── components/     # 通用组件
└── lib/           # 工具函数
```

### 后端API修改
- 需要添加/修改tRPC路由以支持增删改操作
- 更新数据库schema（如需要）

## 实现优先级
1. **高优先级**: 资产分析详细明细展示
2. **中优先级**: 性能分析改名为收益分析
3. **高优先级**: 数据增删改功能

## 最终期望效果
- ✅ 数据展示全面
- ✅ 界面简单易用
- ✅ 操作高效便捷
- ✅ 用户体验友好
